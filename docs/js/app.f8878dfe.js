(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,g=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&g.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(g.length)g.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0c83":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="0c83"},1:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=(n("034f"),n("2877")),s={},c=Object(o["a"])(s,a,i,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("MagicLink")],1)},g=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("div",{staticClass:"container"},[n("h1",{staticStyle:{"margin-bottom":"30px"}},[e._v("Vue / MagicLink")]),n("hr"),e.checking?e._e():n("div",[e.isLoggedIn?e._e():n("div",[n("p",[e._v("Please sign up or login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email",placeholder:"Enter your email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("button",{on:{click:e.loginWithEmail}},[e._v("Send")]),n("br")]),e.isLoggedIn?n("div",[n("b",[e._v("User address is:")]),n("br"),e._v(" "+e._s(e.userAddress)),n("br"),n("br"),n("b",[e._v("Balance is:")]),n("br"),e._v(" "+e._s(e.userBalance)+" ETH"),n("br"),n("br"),n("b",[e._v("Network is:")]),n("br"),e._v(" "+e._s(e.network.name)+" "),n("br"),n("br"),n("hr"),n("br"),e._v(" You're minting "),n("a",{attrs:{href:"https://testnets.opensea.io/collection/nonft-v2",target:"_blank"}},[e._v('"nothing"')]),n("br"),e._v("for 0.01 ETH at "),n("b",[e._v("0xf81046bafce92bdac543f2a91fa91c16ba40abde")]),n("br"),n("br"),e.isSending?n("div",{staticStyle:{"margin-bottom":"30px"}},[e._v("Sending transaction, please wait..")]):e._e(),e.tx||e.isSending?e._e():n("button",{staticStyle:{"margin-bottom":"30px"},attrs:{disabled:e.userBalance<=.01},on:{click:e.mint}},[e._v(" MINT ")]),e.tx?n("div",[n("b",[e._v("Tx submitted at:")]),n("br"),n("a",{attrs:{href:"https://rinkeby.etherscan.io/tx/"+e.tx.hash}},[e._v(e._s(e.tx.hash))]),n("br"),n("br"),e.receipt?n("div",[n("b",[e._v("Receipt is:")]),n("br"),e._v(e._s(e.receipt))]):e._e()]):e._e(),n("hr"),n("br"),n("br"),n("button",{on:{click:e.logout}},[e._v("Logout")])]):e._e()]),e.checking?n("div",[e._v("Checking Magic status..")]):e._e()])])},f=[],b=n("1da1"),v=(n("96cf"),n("5353")),m=n("c030"),h={name:"MagicLink",data:function(){return{magic:{},email:"",userMetadata:{},userAddress:"",userBalance:0,checking:!0,isLoggedIn:!1,isSending:!1,network:{},contract_address:"0xf81046bafce92bdac543f2a91fa91c16ba40abde",ABI:[{inputs:[],name:"buyNFT",outputs:[],stateMutability:"payable",type:"function",payable:!0}],tx:"",receipt:""}},mounted:function(){var e=this;e.magic=new v["a"]("pk_live_8CE68DAFCCE5A2BA",{network:"rinkeby"}),e.render()},methods:{loginWithEmail:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e,!(n.email.length>0)){t.next=5;break}return t.next=4,n.magic.auth.loginWithMagicLink({email:n.email});case 4:n.render();case 5:case"end":return t.stop()}}),t)})))()},render:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,n.magic.user.isLoggedIn();case 3:if(r=t.sent,console.log("User is logged?",r),!r){t.next=30;break}return n.isLoggedIn=!0,a=new m["a"].providers.Web3Provider(n.magic.rpcProvider),console.log("User is logged in.."),t.next=11,n.magic.user.getMetadata();case 11:return n.userMetadata=t.sent,i=a.getSigner(),t.next=15,a.getNetwork();case 15:return n.network=t.sent,console.log("Network is: ",n.network),t.next=19,i.getAddress();case 19:return n.userAddress=t.sent,console.log("Address is "+n.userAddress),t.t0=m["a"].utils,t.next=24,a.getBalance(n.userAddress);case 24:t.t1=t.sent,n.userBalance=t.t0.formatEther.call(t.t0,t.t1),console.log("User balance is "+n.userBalance),n.checking=!1,t.next=31;break;case 30:n.checking=!1;case 31:case"end":return t.stop()}}),t)})))()},mint:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,n.magic.user.isLoggedIn();case 3:if(r=t.sent,console.log("User is logged?",r),!r){t.next=30;break}return n.isSending=!0,a=new m["a"].providers.Web3Provider(n.magic.rpcProvider),console.log("User is logged in.."),t.prev=9,t.next=12,n.magic.user.getMetadata();case 12:return n.userMetadata=t.sent,i=a.getSigner(),o=new m["a"].Contract(n.contract_address,n.ABI,i),t.next=17,o.buyNFT({value:m["a"].utils.parseEther("0.01")});case 17:return n.tx=t.sent,console.log("Submitted:",n.tx),t.next=21,n.tx.wait();case 21:n.receipt=t.sent,console.log("Completed:",n.receipt),n.isSending=!1,t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](9),console.log(t.t0),n.isSending=!1;case 30:case"end":return t.stop()}}),t,null,[[9,26]])})))()},logout:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,n.magic.user.logout();case 3:n.isLoggedIn=!1;case 4:case"end":return t.stop()}}),t)})))()}}},_=h,x=Object(o["a"])(_,p,f,!1,null,null,null),w=x.exports,k={name:"Home",components:{MagicLink:w}},y=k,O=Object(o["a"])(y,d,g,!1,null,null,null),S=O.exports;r["a"].use(l["a"]);var M=[{path:"/",name:"Home",component:S}],j=new l["a"]({routes:M}),E=j;r["a"].config.productionTip=!1,new r["a"]({router:E,render:function(e){return e(u)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.f8878dfe.js.map